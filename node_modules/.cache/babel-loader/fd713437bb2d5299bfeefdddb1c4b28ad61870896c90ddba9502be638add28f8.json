{"ast":null,"code":"var _jsxFileName = \"Z:\\\\food shop\\\\01-starting-project\\\\src\\\\components\\\\cart\\\\Context-provider.js\",\n  _s = $RefreshSig$();\nimport Variab from \"./Context\";\nimport { useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultState = {\n  items: [],\n  totalAmount: 0\n};\nfunction LastSnapshot(state, action) {\n  if (action.type === 'ADD_NEW_AMOUNT') {\n    const newItems = [...state.items, action.item];\n    const newTotalAmount = state.totalAmount + (!isNaN(action.item.price) && !isNaN(action.item.amount) ? action.item.price * action.item.amount : 1);\n    console.log(newTotalAmount);\n    return {\n      items: newItems,\n      totalAmount: newTotalAmount\n    };\n  }\n  if (action.type === 'REMOVE_OLD_AMOUNT') {}\n  return defaultState;\n}\n_c = LastSnapshot;\nexport default function CartProvider(props) {\n  _s();\n  const [amount, dispatchAmount] = useReducer(LastSnapshot, defaultState);\n  function AddToCart(item) {\n    dispatchAmount({\n      type: 'ADD_NEW_AMOUNT',\n      item: item\n    });\n  }\n  function RemoveFromCart(id) {\n    dispatchAmount({\n      type: 'REMOVE_OLD_AMOUNT',\n      id: id\n    });\n  }\n  const cartContext = {\n    items: amount.items,\n    totalAmount: amount.totalAmount,\n    Add: AddToCart,\n    Remove: RemoveFromCart\n  };\n  console.log(amount.items);\n  return /*#__PURE__*/_jsxDEV(Variab.Provider, {\n    value: cartContext,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(CartProvider, \"qvNiNlvIN20Dyw4fQKG9KPxUqIY=\");\n_c2 = CartProvider;\nvar _c, _c2;\n$RefreshReg$(_c, \"LastSnapshot\");\n$RefreshReg$(_c2, \"CartProvider\");","map":{"version":3,"names":["Variab","useReducer","defaultState","items","totalAmount","LastSnapshot","state","action","type","newItems","item","newTotalAmount","isNaN","price","amount","console","log","CartProvider","props","dispatchAmount","AddToCart","RemoveFromCart","id","cartContext","Add","Remove","children"],"sources":["Z:/food shop/01-starting-project/src/components/cart/Context-provider.js"],"sourcesContent":["import Variab from \"./Context\";\r\nimport { useReducer } from \"react\";\r\n\r\nconst defaultState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\n\r\nfunction LastSnapshot(state, action) {\r\n    if(action.type==='ADD_NEW_AMOUNT'){\r\n        const newItems = [...state.items, action.item];\r\n        const newTotalAmount = state.totalAmount + (\r\n          !isNaN(action.item.price) && !isNaN(action.item.amount)\r\n            ? action.item.price * action.item.amount\r\n            : 1\r\n        );\r\n        console.log( newTotalAmount);\r\n        return{\r\n            items: newItems,\r\n            totalAmount: newTotalAmount\r\n        };\r\n        \r\n    }\r\n    if(action.type==='REMOVE_OLD_AMOUNT'){\r\n        \r\n    }\r\n  return defaultState;\r\n}\r\n\r\nexport default function CartProvider(props) {\r\n  const [amount, dispatchAmount] = useReducer(LastSnapshot, defaultState);\r\n  function AddToCart(item) {\r\n    dispatchAmount({type: 'ADD_NEW_AMOUNT', item: item})\r\n  }\r\n\r\n  function RemoveFromCart(id) {\r\n    dispatchAmount({type: 'REMOVE_OLD_AMOUNT', id: id})\r\n  }\r\n\r\n  const cartContext = {\r\n    items: amount.items,\r\n    totalAmount: amount.totalAmount,\r\n    Add: AddToCart,\r\n    Remove: RemoveFromCart,\r\n  };\r\n  console.log(amount.items)\r\n  \r\n  return (\r\n    <Variab.Provider value={cartContext}>{props.children}</Variab.Provider>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,WAAW;AAC9B,SAASC,UAAU,QAAQ,OAAO;AAAC;AAEnC,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,EAAE;EACTC,WAAW,EAAE;AACf,CAAC;AAED,SAASC,YAAY,CAACC,KAAK,EAAEC,MAAM,EAAE;EACjC,IAAGA,MAAM,CAACC,IAAI,KAAG,gBAAgB,EAAC;IAC9B,MAAMC,QAAQ,GAAG,CAAC,GAAGH,KAAK,CAACH,KAAK,EAAEI,MAAM,CAACG,IAAI,CAAC;IAC9C,MAAMC,cAAc,GAAGL,KAAK,CAACF,WAAW,IACtC,CAACQ,KAAK,CAACL,MAAM,CAACG,IAAI,CAACG,KAAK,CAAC,IAAI,CAACD,KAAK,CAACL,MAAM,CAACG,IAAI,CAACI,MAAM,CAAC,GACnDP,MAAM,CAACG,IAAI,CAACG,KAAK,GAAGN,MAAM,CAACG,IAAI,CAACI,MAAM,GACtC,CAAC,CACN;IACDC,OAAO,CAACC,GAAG,CAAEL,cAAc,CAAC;IAC5B,OAAM;MACFR,KAAK,EAAEM,QAAQ;MACfL,WAAW,EAAEO;IACjB,CAAC;EAEL;EACA,IAAGJ,MAAM,CAACC,IAAI,KAAG,mBAAmB,EAAC,CAErC;EACF,OAAON,YAAY;AACrB;AAAC,KAnBQG,YAAY;AAqBrB,eAAe,SAASY,YAAY,CAACC,KAAK,EAAE;EAAA;EAC1C,MAAM,CAACJ,MAAM,EAAEK,cAAc,CAAC,GAAGlB,UAAU,CAACI,YAAY,EAAEH,YAAY,CAAC;EACvE,SAASkB,SAAS,CAACV,IAAI,EAAE;IACvBS,cAAc,CAAC;MAACX,IAAI,EAAE,gBAAgB;MAAEE,IAAI,EAAEA;IAAI,CAAC,CAAC;EACtD;EAEA,SAASW,cAAc,CAACC,EAAE,EAAE;IAC1BH,cAAc,CAAC;MAACX,IAAI,EAAE,mBAAmB;MAAEc,EAAE,EAAEA;IAAE,CAAC,CAAC;EACrD;EAEA,MAAMC,WAAW,GAAG;IAClBpB,KAAK,EAAEW,MAAM,CAACX,KAAK;IACnBC,WAAW,EAAEU,MAAM,CAACV,WAAW;IAC/BoB,GAAG,EAAEJ,SAAS;IACdK,MAAM,EAAEJ;EACV,CAAC;EACDN,OAAO,CAACC,GAAG,CAACF,MAAM,CAACX,KAAK,CAAC;EAEzB,oBACE,QAAC,MAAM,CAAC,QAAQ;IAAC,KAAK,EAAEoB,WAAY;IAAA,UAAEL,KAAK,CAACQ;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAmB;AAE3E;AAAC,GArBuBT,YAAY;AAAA,MAAZA,YAAY;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}